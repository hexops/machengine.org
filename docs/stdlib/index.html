<!doctype html><html><head><link rel=stylesheet href=https://machengine.org/layouts/default.bb15466819d3fbaf312db7ece8726d7131ba9ed50eeb5e347de909b3f0b89c48.css><link rel=apple-touch-icon sizes=180x180 href=https://machengine.org//apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://machengine.org//favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://machengine.org//favicon-16x16.png><link rel=manifest href=https://machengine.org//site.webmanifest><link rel=mask-icon href=https://machengine.org//safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://machengine.org//assets/font/stylesheet.css><link rel=stylesheet href=https://machengine.org//assets/font/inter/inter.css><script async defer data-domain=hexops.com src=https://machengine.org//opendata.js></script><meta charset=utf-8><title>Standard library | Mach: zig game engine & graphics toolkit</title><link rel=canonical href=https://machengine.org/docs/stdlib/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Standard library"><meta property="og:description" content="The Mach standard library is modular by design. Just like the Zig standard library, you pick and choose which parts to use."><meta property="og:type" content="article"><meta property="og:url" content="https://machengine.org/docs/stdlib/"><meta property="og:image" content="https://machengine.org/opengraph/template_hu102e162f47cb7d8ae9eb284939698b9d_62022_67bb93b109fb6f4c95434d4492087f7f.png"><meta property="article:section" content="docs"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://machengine.org/opengraph/template_hu102e162f47cb7d8ae9eb284939698b9d_62022_67bb93b109fb6f4c95434d4492087f7f.png"><meta name=twitter:title content="Standard library"><meta name=twitter:description content="The Mach standard library is modular by design. Just like the Zig standard library, you pick and choose which parts to use."></head><body><div class=navbar><div class=content><a href=https://machengine.org// class=logo><div class=img></div></a><div class=subsection><a href=https://machengine.org//docs class=item>Docs</a>
<a href=https://machengine.org//about class=item>Project</a></div><div class="divider color-border">&nbsp;</div><div class=subsection><a href=https://devlog.hexops.com/categories/mach/ class=item>Devlog</a>
<a href=https://github.com/hexops/mach class=svg-item><img alt=GitHub class=svg-icon src=https://machengine.org//img/github.svg></a>
<a href=https://discord.gg/XNG3NZgCqp class=svg-item><img alt=Discord class=svg-icon src=https://machengine.org//img/discord.svg></a>
<a href=https://github.com/sponsors/emidoots class=donate-button><img alt=Heart class=svg-icon src=https://machengine.org//img/heart.svg>
&nbsp;Donate</a></div></div></div><div id=content><link rel=stylesheet href=https://machengine.org/layouts/docs.145a7d0caf5b3345083bed4fb10383d5bbda5c3cfd5a83cc7a153b0afbd8b2eb.css><main aria-role=main class=main-docs><aside><ul><li><a href=https://machengine.org/docs><span>Overview</span></a></li><li><a href=https://machengine.org/docs/getting-started><span>Getting started</span></a></li><li><h3><span>Object system</span></h3></li><ul class=sub-menu><li><a href=https://machengine.org/docs/object>Overview</a></li><li><a href=https://machengine.org/docs/object/modules>Modules</a></li><li><a href=https://machengine.org/docs/object/systems>Systems</a></li><li><a href=https://machengine.org/docs/object/objects>Objects</a></li><li><a href=https://machengine.org/docs/object/relations>Relations</a></li></ul><li><h3><span>Math</span></h3></li><ul class=sub-menu><li><a href=https://machengine.org/docs/math>Overview</a></li><li><a href=https://machengine.org/docs/math/coordinate-system>Coordinate system</a></li><li><a href=https://machengine.org/docs/math/traversing-coordinate-systems>Traversing coordinate systems</a></li><li><a href=https://machengine.org/docs/math/matrix-storage>Matrix storage</a></li></ul><li><h3><span>GPU</span></h3></li><ul class=sub-menu><li><a href=https://machengine.org/docs/gpu>Overview</a></li><li><a href=https://machengine.org/docs/gpu/memory>Memory management</a></li><li><a href=https://machengine.org/docs/gpu/errors>Error handling</a></li></ul><li><h3><span>General</span></h3></li><ul class=sub-menu><li><a href=https://machengine.org/docs/roadmap>Roadmap</a></li><li><a href=https://machengine.org/docs/modularity>Modularity</a></li><li><a href=https://machengine.org/docs/stdlib>Standard library</a></li><li><a href=https://machengine.org/docs/zig-version>Zig version</a></li><li><a href=https://machengine.org/docs/nominated-zig>Nominated Zig</a></li></ul></ul></aside><div class=docs><h1 id=standard-library>Standard library</h1><p>The Mach standard library can be found at: <a href=https://github.com/hexops/mach>github.com/hexops/mach</a> - it is <a href=../modularity>modular by design</a>. Just like the Zig standard library, you can choose which parts to use or not.</p><p>Thanks to Zig&rsquo;s lazy code evaluation and lazy dependency fetching, you really only pay for the parts you use.</p><h2 id=choosing-your-mach-version>Choosing your Mach version</h2><h3 id=04-branch-not-actively-developed-but-more-stable>0.4 branch (not actively developed, but more stable)</h3><p>The 0.4 branch is what applications like <a href=https://github.com/foxnne/pixi>Pixi</a> and games like <code>#lordofzero</code> (in the Discord) are using. It uses GLFW, WebGPU, and optionally the ECS. It is <a href=https://discord.com/channels/996677443681267802/996688886216523907/1259736837648416829>no longer in development</a> however.</p><p>To use this version, see the <a href=https://machengine.org/v0.4/core/getting-started>/v0.4 website mach core getting started guide</a>.</p><h3 id=main-branch-actively-developed-experimentalunstable>main branch (actively developed, experimental/unstable)</h3><p>This branch is where active development is happening, we are removing GLFW and WebGPU in favor of our own packages (<a href=https://discord.com/channels/996677443681267802/996688886216523907/1259736837648416829>more details</a>) which means it is not stable - or may not even run - on some OS. At the time of writing Sep 30th, Windows is relatively stable, Linux might work under Wayland, and macOS is not expected to work currently.</p><p>To use this version, add the Mach dependency to your <code>build.zig.zon</code> file:</p><pre><code id=zig-fetch-main>zig fetch --save https://pkg.machengine.org/mach/$LATEST_COMMIT.tar.gz
</code></pre><script>fetch("https://api.github.com/repos/hexops/mach/branches/main",{method:"GET",headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>{let t=document.querySelector("#zig-fetch-main");t.innerHTML=t.innerHTML.replace("$LATEST_COMMIT",e.commit.sha)})</script><h2 id=using-the-dependency>Using the dependency</h2><p>Then make it importable by your code in <code>build.zig</code>, e.g.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zig data-lang=zig><span style=display:flex><span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> build(b<span style=color:#f92672>:</span> <span style=color:#f92672>*</span>std.Build) <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Add Mach to our library and executable
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> mach_dep <span style=color:#f92672>=</span> b.dependency(<span style=color:#e6db74>&#34;mach&#34;</span>, .{
</span></span><span style=display:flex><span>        .target <span style=color:#f92672>=</span> target,
</span></span><span style=display:flex><span>        .optimize <span style=color:#f92672>=</span> optimize,
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>    lib.root_module.addImport(<span style=color:#e6db74>&#34;mach&#34;</span>, mach_dep.module(<span style=color:#e6db74>&#34;mach&#34;</span>));
</span></span><span style=display:flex><span>    exe.root_module.addImport(<span style=color:#e6db74>&#34;mach&#34;</span>, mach_dep.module(<span style=color:#e6db74>&#34;mach&#34;</span>));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Now in e.g. your <code>src/main.zig</code> you can <code>@import("mach")</code>.</p><h2 id=optional-lazy-dependencies>(optional) Lazy dependencies</h2><p>Mach&rsquo;s stdlib has a handful of external dependencies, downloading them all is usually not a problem. Optionally, if you want to optimize your build and only download what is absolutely neccessary, you can specify which parts of the Mach stdlib you use and have only the dependencies needed for those parts downloaded.</p><p>For example, in your build.zig you might specify:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zig data-lang=zig><span style=display:flex><span>    <span style=color:#66d9ef>const</span> mach_dep <span style=color:#f92672>=</span> b.dependency(<span style=color:#e6db74>&#34;mach&#34;</span>, .{
</span></span><span style=display:flex><span>        .target <span style=color:#f92672>=</span> target,
</span></span><span style=display:flex><span>        .optimize <span style=color:#f92672>=</span> optimize,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// We only use mach.core and mach.sysaudio, so only fetch the dependencies needed by those.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        .core <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        .sysaudio <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    });
</span></span></code></pre></div><p>The options are:</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>No option specified</td><td>Fetch all external dependencies</td></tr><tr><td><code>.core = true</code></td><td>Fetch external dependencies needed for <code>@import("mach").core</code></td></tr><tr><td><code>.sysaudio = true</code></td><td>Fetch external dependencies needed for <code>@import("mach").sysaudio</code></td></tr><tr><td><code>.sysgpu = true</code></td><td>Fetch external dependencies needed for <code>@import("mach").sysgpu</code></td></tr></tbody></table><p>An option is only provided if that portion of the stdlib has external dependencies. Remember that Zig&rsquo;s lazy code evaluation effectively means time is only spent compiling the code you reference.</p><h2 id=ran-into-trouble>Ran into trouble?</h2><p>Feel free to join the <a href=../../discord>Mach Discord community</a> for help.</p></div><div class=toc><h3>Table of contents</h3><nav id=TableOfContents><ul><li><a href=#choosing-your-mach-version>Choosing your Mach version</a><ul><li><a href=#04-branch-not-actively-developed-but-more-stable>0.4 branch (not actively developed, but more stable)</a></li><li><a href=#main-branch-actively-developed-experimentalunstable>main branch (actively developed, experimental/unstable)</a></li></ul></li><li><a href=#using-the-dependency>Using the dependency</a></li><li><a href=#optional-lazy-dependencies>(optional) Lazy dependencies</a></li><li><a href=#ran-into-trouble>Ran into trouble?</a></li></ul></nav></div></main><div class=footer><a href=https://hexops.com/privacy>Privacy matters</a><p><a href=https://github.com/hexops/machengine.org/archive/refs/heads/gh-pages.zip>offline version of this site</a> | <a href=https://machengine.org//about#improve-this-site>Improve this site</a> | <a href=https://github.com/sponsors/emidoots>Sponsor on GitHub</a> | <a href=https://devlog.hexops.com/>Hexops' devlog</a></p></div></div></body></html>